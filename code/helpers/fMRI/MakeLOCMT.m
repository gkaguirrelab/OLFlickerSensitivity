
areas_t = MRIread('/Applications/freesurfer/subjects/fsaverage_sym/templates/2014-10-29.areas-template.nii.gz');

cd /Data/Imaging/Protocols/MTFOBSLocalizer/Subjects
a = MRIread('G120413A/BOLD/MTLocalizer_xrun/stats/cope1.xhemi.osgm.ffx/osgm/cache.th30.abs.sig.ocn.mgh'); % cluster 3
b = MRIread('M120413S/BOLD/MTLocalizer_xrun/stats/cope1.xhemi.osgm.ffx/osgm/cache.th30.abs.sig.ocn.mgh'); % 
c = MRIread('M121113M/BOLD/MTLocalizer_xrun/stats/cope1.xhemi.osgm.ffx/osgm/cache.th30.abs.sig.ocn.mgh');

d = a;
tmp = (a.vol == 3) + (b.vol == 1) + (c.vol == 1);

tmp = (tmp > 1);
% The MT ROI has a second blob in the occipital, which we remove. It is
% nowhere near the 'overlap' point
%tmp2 = [786 2706 10385 13877 13879 13881 23302 23303 23304 38938 38940 44597 44598 44599 44601 54197 54198 54200 54201 87101 87103 98707 115814 115815 115816 115817 115818 157768 157770 157772 157782 157783 2705 21353 38936 38937 38941 44600 54195 54196 54199 87100 87102 87104 87109 87110 87111 92421 92422 92423 92424 98708 98709 98710 98711 98713 98714 98715 115811 115812 115813 157767 157769 157771 157773 157774 157779 157780 157781 157784 157785 2706 54201 23304 115818 786 44601 32 306 565 782 784 785 786 1253 2335 2336 2337 2702 2703 2704 2705 2706 3797 5195 5196 5197 5198 5199 5200 5201 6018 6022 6023 6024 6863 8408 8409 9538 9564 9565 9566 9567 9568 9569 9570 9571 10382 10383 10384 10385 10386 11477 11479 11481 12873 12874 12875 12876 12877 12878 12879 13869 13870 13871 13876 13877 13878 13879 13880 13881 18515 21348 21349 21350 21351 21352 21353 21354 21355 21356 21357 21358 21359 21360 21361 21362 21363 21364 21365 21366 21367 21368 21369 23296 23297 23298 23299 23300 23301 23302 23303 23304 25267 27785 27786 27787 27788 27789 27790 27791 27792 27793 27794 29402 29403 29404 29412 29413 29414 29415 29416 29417 29418 31372 31373 31374 31375 31376 31379 31380 31381 35508 35509 35510 35511 38853 38854 38933 38934 38935 38936 38937 38938 38939 38940 38941 38942 38943 38944 38945 38946 38947 38948 38949 38950 38951 38952 38953 38954 41102 41103 41104 41105 41106 42197 42198 42199 42200 42201 43593 43594 43595 43596 43597 43598 43599 44587 44588 44589 44590 44591 44592 44594 44595 44596 44597 44598 44599 44600 44601 47872 47874 52068 52069 52070 52071 52072 52073 52074 52075 52076 52077 52078 52079 52080 52081 52082 52083 52084 52085 52086 52087 52088 52089 54187 54188 54189 54190 54191 54192 54193 54194 54195 54196 54197 54198 54199 54200 54201 57472 57473 57474 61661 61662 61663 61665 61666 61667 61668 61669 61670 61671 61672 61673 61674 61675 61676 61677 61678 61679 61680 61681 61682 64645 64647 64648 64649 64650 64651 64652 64654 64667 64669 64670 64671 64672 64673 64674 64675 64676 64677 64678 64679 64680 64681 64682 64683 64684 64685 64686 68871 68872 68873 68878 68888 78580 78582 78583 78584 78585 78586 78587 78588 78589 78590 78591 86890 86891 86892 86893 86894 87083 87085 87086 87087 87088 87090 87091 87092 87093 87094 87095 87096 87097 87098 87099 87100 87101 87102 87103 87104 87105 87106 87107 87108 87109 87110 87111 87112 87113 87114 87115 87116 87117 87118 87119 87120 87121 87122 87123 87124 87125 87126 87127 87128 87129 87130 87131 87132 87133 87134 87135 87136 87137 87138 87139 87140 87141 87142 87143 87144 87145 87146 92416 92417 92418 92419 92420 92421 92422 92423 92424 94387 94388 94389 94390 94391 94392 94393 94394 94395 96899 96900 96901 96902 96903 96904 96905 96906 96907 96908 96909 96910 96911 96912 96913 98692 98693 98694 98695 98696 98705 98706 98707 98708 98709 98710 98711 98712 98713 98714 98715 107054 107055 107056 107057 107058 112040 112154 112155 112156 112157 112158 112159 112160 112161 112162 112163 112164 112165 112166 112167 112168 112169 112170 112171 112172 112173 112174 112175 112176 112177 112178 112179 112180 112181 112182 112183 112184 112185 112186 112187 112188 112189 112190 112191 112192 112193 115798 115799 115800 115801 115802 115803 115804 115805 115806 115807 115808 115809 115810 115811 115812 115813 115814 115815 115816 115817 115818 120397 120398 120399 126262 126270 126271 126272 126273 126274 126275 126276 126277 126278 126279 126280 126281 126282 126283 126284 126285 126286 126287 126288 126289 126290 126291 126292 126293 126294 126295 126296 126297 126298 126299 130275 130276 130277 130278 130279 130280 130281 130301 130302 130303 130304 130305 130306 130307 130308 130309 130310 130311 130312 130313 130314 130315 130316 130317 130318 130319 130320 135620 135621 135622 135623 135624 135625 135626 135628 135629 135630 135631 135632 135640 135641 135642 135643 135644 135646 135647 135648 147519 147527 147528 147529 147530 147531 147532 147533 147534 147535 147536 147537 157516 157518 157519 157520 157521 157522 157751 157758 157759 157760 157761 157762 157763 157764 157765 157766 157767 157768 157769 157770 157771 157772 157773 157774 157775 157776 157777 157778 157779 157780 157781 157782 157783 157784 157785 157786 157787 157788 157789 157790 157791 157792 157793 157794 157795 157796 157797 157798 157799 157800 157801 157802 157803 157804 157805 157806 157807 157808 157809 157810 157811 157812 157813 157814 157815 157816 157817 157818 157819 157820 157821 157822 157823 157824 157829 157830 3799 3801 5193 6862 9572 11478 11480 12880 12881 13867 13868 13872 13874 13875 17152 17154 18513 18514 18516 21283 21284 25268 25269 27781 27782 27783 27784 27795 27796 27797 29401 29411 31371 35505 35507 38852 38930 38931 38932 38955 38957 44593 47873 49235 57475 57481 57482 61660 61664 61684 61686 64646 64653 64655 64656 64668 68870 68874 68876 68877 68879 68886 68887 68889 68891 68892 68893 78581 87084 87089 87147 87151 96914 98691 98697 98704 107053 112039 120400 120402 120412 126263 126269 126300 130272 130273 130274 130282 130300 135619 135627 135639 135645 135649 142582 147518 147526 157515 157517 157752 157757 157825 157831];

tmp(tmp2) = 0;
d.vol = isnan(areas_t.vol) & tmp;


MRIwrite(d, 'allMT.mgh');


cd /Data/Imaging/Protocols/MTFOBSLocalizer/Subjects
a = MRIread('G120413A/BOLD/FOBSLocalizer_xrun/stats/cope3.xhemi.osgm.ffx/osgm/cache.th30.abs.sig.cluster.mgh');
b = MRIread('M120413S/BOLD/FOBSLocalizer_xrun/stats/cope3.xhemi.osgm.ffx/osgm/cache.th30.abs.sig.cluster.mgh');
c = MRIread('M121113M/BOLD/FOBSLocalizer_xrun/stats/cope3.xhemi.osgm.ffx/osgm/cache.th30.abs.sig.cluster.mgh');

d = a;
tmp = (a.vol ~=0) + (b.vol ~= 0) + (c.vol ~= 0);


tmp = (tmp > 1);
d.vol = isnan(areas_t.vol) & tmp;

MRIwrite(d, 'allLOC.mgh');