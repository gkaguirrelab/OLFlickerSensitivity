% Protocol Pupillometry-IsochromaticDistortionProduct-A
% 
% Protocol implementing a sequence of modulations of a given direction, with different carrier frequencies.
%
% 7/17/2013     ms      Created.

% Calibration
calibrationType:s:BoxAShortCableBEyePiece2_ND06:Type of calibration 

% Timing information
timeStep:d:1/512:Number ms of each sample time

% Trial ifnormation
nTrials:d:41
theFrequencyIndices:d:[1 1 1 1 1 1 2 3 4 5 6 6 2 5 4 1 3 3 1 5 2 6 4 4 3 2 1 6 5 5 3 6 1 4 2 2 4 6 3 5 1]:4-128 Hz
thePhaseIndices:d:[1 1 1 1 1 1 2 1 4 3 1 2 1 2 4 3 4 4 3 3 4 2 1 2 3 1 3 3 1 4 3 2 4 2 4 1 2 4 2 4 1]:Phase randomized
theDirections:d:[1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2]:Modulation direction. Matches up with the modulationFiles field below
theContrastRelMaxIndices:d:[1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1]:1 means the max. contrast available
trialDuration:d:[60 60 60 60 60 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45]:Number of seconds to show each trial 

% Stimulus (experiment)
modulationFiles:s:Modulation-Background-60s.mat,Modulation-Isochromatic-45sWindowedDistortionProductModulation.mat

% Check keyboard
checkKB:d:0:Include keyboard checks?
waitForKeyPress:d:0

% Dimming task
attentionTask:d:[1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1]:Boolean to decide whether we have a dimming task. Needs to be as long as nTrials. Not used in pupillometry
attentionProbability:d:0.333:Probability that the stimulus will turn off in a segment of length specified in attentionSegment
attentionMarginDuration:d:2:Margin in seconds in which we cannot have have a dimming
attentionSegmentDuration:d:12:Duration of segment of the trial duration in which the dimming occurs
attentionBlankDuration:d:0.25:Duration in seconds of the blank durations

% Eye tracker parameters
macHostIP:s:130.91.72.12:IP address of Mac host
winHostIP:s:128.91.12.103:IP address of Win host for eye tracker
udpPort:d:2007:Port number for UDP connection
VSGOfflineMode:d:1