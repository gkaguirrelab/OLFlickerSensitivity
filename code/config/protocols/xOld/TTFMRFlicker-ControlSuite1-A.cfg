% Protocol TTFMRFlicker-ControlSuite1-A
% 
% Protocol implementing a sequence of modulations at three frequencies
%
% 3/14/2013     ms      Created.

% Calibration
calibrationType:s:BoxBLongCableBEyePiece1:Type of calibration 

% Timing information
timeStep:d:1/256:Number ms of each sample time

% Trial ifnormation
nTrials:d:25
theFrequencyIndices:d:[4 1 4 4 1 1 4 4 4 4 4 4 4 1 4 4 1 4 4 4 4 4 4 4 4]:8 Hz
thePhaseIndices:d:[1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1]:No phase shift implemented
theDirections:d:[4 1 5 3 1 1 4 3 3 4 2 4 5 1 3 2 1 2 5 5 2 2 3 5 4]:
theContrastRelMaxIndices:d:[1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1] :
trialDuration:d:[12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12]:Number of seconds to show each trial 

% Stimulus (experiment)
modulationFiles:s:Modulation-Background-12sWindowedFrequencyModulation.mat,Modulation-MelanopsinDirectedEquivContrastRobust-12sWindowedFrequencyModulation.mat,Modulation-MelanopsinDirectedRobust-12sWindowedFrequencyModulation.mat,Modulation-RodDirected-12sWindowedFrequencyModulation.mat,Modulation-OmniSilent-12sWindowedFrequencyModulation.mat,

% Check keyboard
checkKB:d:1:Include keyboard checks?
waitForKeyPress:d:0

% Dimming task
attentionTask:d:[1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1]:Boolean to decide whether we have a dimming task. Needs to be as long as nTrials
attentionProbability:d:0.333:Probability that the stimulus will turn off in a segment of length specified in attentionSegment
attentionMarginDuration:d:2:Margin in seconds in which we cannot have have a dimming
attentionSegmentDuration:d:12:Duration of segment of the trial duration in which the dimming occurs
attentionBlankDuration:d:0.25:Duration in seconds of the blank durations